{# base.htmlを継承する #}
{% extends "base.html" %}

{# タイトルのブロックを記述 #}
{% block title %}
Flask実習 パスワード保存とログイン
{% endblock %}

{# コンテンツのブロックを記述 #}
{% block contents %}
{% if username %}
  {% if error %}
    <p>{{ username }} - {{error}}</p>
    <a href="{{ url_for('login') }}">ログインへ</a>
  {% else %}
    <p>{{ username }} - ログイン中です。</p>
    <form action="{{ url_for('logout') }}" method="POST">
      <button type="submit" name="logout">ログアウト</button>
    </form>
  {% endif %}
{% else %}
  <h3>ログイン</h3>
  <form action="{{ url_for('login') }}" method="POST">
    <label>ユーザー名：<input type="text" name="username" required></label><br>
    <label>パスワード：<input type="password" name="password" required></label><br>
    <button type="submit" name="login">ログイン</button>
  </form>
{% endif %}
<p>----------</p>
<h3>ユーザー登録</h3>
<form action="{{ url_for('signup') }}" method="POST">
  <label>ユーザー名：<input type="text" name="username" required></label><br>
  <label>パスワード：<input type="password" name="password" required></label><br>
  <button type="submit" name="signup">登録</button>
</form>
{% endblock %}